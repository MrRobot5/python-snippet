
# 机器学习相关答疑

## 理论和设计思路

1. 怎么理解“LSTM对输入数据的尺度敏感。如果数据没有经过适当的预处理，模型可能难以收敛。”？

2. lstm 回归预测的结果数据区分度很低，和真实结果mse 差异很大怎么优化？
数据质量与预处理
模型架构优化
训练策略升级
损失函数创新

3. 怎么理解“在时间序列场景中，建议始终保留足够长的验证集（建议>20%总长度），并使用Walk-Forward Validation进行严格评估。”？

4. 如何针对已经训练好的模型，继续添加其他数据，继续训练？
增量训练（Incremental Training）
在线学习（Online Learning）
@todo 2025年2月28日
idea: 叠加 database_SH600036.db database_SZ000063.db database_SZ000625.db 数据，训练效果是否更好

5. 为什么不用常规的回归模型（如决策树、随机森林）?
时间序列，交易的连续性，只有在RNN 模型上能体现出来


6. 

## 实践

0. 假设检验
强按牛头不喝水

回归分析的基本假设：线性回归的假设之一是误差项服从正态分布。
正态分布的假设是许多统计推断（如参数估计、假设检验）的理论基础。
机器是没法从不符合逻辑规律的数据中，学习到规律。
延伸阅读：为什么正态分布在回归中重要？

1. 模型优化点：数据质量与预处理
数据本身的问题可能是关键因素。如果训练数据量不足，模型可能无法充分学习到数据中的模式。
timestep 10 -> 30， train rows 500 -> 900。 
MSE 没有明显的变化，预测结果的区分度变大

2. 模型优化点：可视化分析
模型评估的MSE 没有明显的变化，但预测结果的区分度变大，趋势和真实的结果逐渐相似。

3. 模型优化点：先进行彻底的数据探索（包含ACF/PACF分析）
对数据有充分的了解，才能有的放矢。选择合适的策略和工具来实现猜想。
util 目录下的工具可以在运行时和模型迭戈过程中，发现问题并辅助寻找和验证优化方向

4. 



## 待整理：


statsmodels库里的acf和pacf函数。
ACF（自相关函数）和 PACF（偏自相关函数）是分析时间序列的重要工具，主要用于识别时间序列的 ​ARIMA 模型结构​（即确定参数 p,d,q）。


​增量学习：数据分批到达时逐步训练（如实时推荐系统）。
​迁移学习：在预训练模型上继续训练特定领域数据。
​模型更新：定期用新数据微调生产模型以适应概念漂移（Concept Drift）。
根据具体任务（如计算机视觉、NLP）和框架（PyTorch/TensorFlow/Scikit-learn），实现细节可能略有不同。


转换函数（relu/sigmoid）


Box-Cox 标题
使用 LSTM 提取时序特征，再输入非参数模型（如随机森林）进行分类。
以下是一个简单的端到端流程：用 LSTM 提取特征，再用随机森林分类：

结合 LSTM 的时序建模能力和非参数输出层（如 Gaussian Process Regression）。



todo:
提升数据质量（调整look_back=5 减少打标结果波动）
技术文章借鉴思路
混合模型，当前训练的模型是瞬时交易的一个指标（类似MACD/KDJ 等指标）。结合时事政策/大盘/情绪指标等，使用sk_learn 普通的分类算法得出更具参考的指导。
毕竟，决策是综合技术分析和整体的情报得出的结论。 用技术手段替代了分析员。


